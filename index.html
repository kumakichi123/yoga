<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="theme-color" content="#A855F7"/>
  <link rel="manifest" href="/manifest.webmanifest"/>
  <title>Yoga</title>
  <style>
:root{--bg:#f6f1ff;--card:#fff;--card-soft:#fdf9ff;--muted:#6a5f82;--border:#e3d7ff;--brand:#a855f7;--brand-dark:#7c3aed;--brand-soft:#f1eafe;--text:#2f1c4d}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:'Segoe UI','Hiragino Sans','Meiryo',sans-serif;line-height:1.6}
a{color:var(--brand-dark)}
.container{max-width:960px;margin:0 auto;padding:16px 16px 24px}
.row{display:grid;gap:16px}
.cards{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
.card{background:var(--card);border:1px solid var(--border);border-radius:24px;padding:18px;box-shadow:0 16px 40px rgba(124,58,237,.08)}
.btn{padding:10px 16px;border:1px solid var(--border);border-radius:12px;background:var(--card-soft);color:var(--text);cursor:pointer;font-weight:600;transition:all .2s}
.btn:hover{border-color:var(--brand);color:var(--brand-dark)}
.btn.primary{background:var(--brand);border-color:var(--brand);color:#fff;box-shadow:0 10px 24px rgba(124,58,237,.25)}
.btn.primary:hover{filter:brightness(1.05)}
.btn:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}
.muted{color:var(--muted)}
.h{margin:0;font-size:28px;color:var(--brand-dark)}
.thumb{height:140px;border-radius:20px;background:var(--brand-soft);display:flex;align-items:center;justify-content:center;overflow:hidden}
.thumb img{width:100%;height:100%;object-fit:cover}
.tabs{display:flex;border:1px solid var(--border);border-radius:14px;overflow:hidden;background:var(--card-soft)}
.tab{flex:1;padding:12px;text-align:center;cursor:pointer;color:var(--muted);font-weight:600}
.tab.active{background:var(--brand);color:#fff}
.bottom{position:sticky;bottom:0;background:rgba(255,255,255,.86);backdrop-filter:saturate(180%) blur(12px);border-top:1px solid var(--border);margin-top:12px}
.nav{display:flex;gap:8px;justify-content:space-around;padding:12px}
.nav button{flex:1}
.bar{height:8px;background:#eadeff;border-radius:999px;overflow:hidden}
.bar>i{display:block;height:100%;background:var(--brand);width:0}
.grid2{display:grid;gap:12px;grid-template-columns:1fr 1fr}
.list{margin:0;padding-left:18px;color:var(--muted)}
.chat{display:grid;gap:10px}
.msg{padding:12px 14px;border-radius:16px;max-width:80%;background:var(--brand-soft);color:var(--text)}
.msg.u{background:#ede9ff;justify-self:end}
.msg.a{background:var(--card-soft)}
.cal{display:grid;gap:12px}
.cal-head{display:flex;justify-content:space-between;align-items:center}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.cell{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:10px;text-align:right;height:64px;position:relative}
.dot{position:absolute;left:10px;bottom:10px;width:8px;height:8px;background:var(--brand);border-radius:999px}
.field{display:grid;gap:6px}
.field input{padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--card-soft);color:var(--text)}
.field input:disabled{background:#f0e9ff;color:var(--muted)}
.pill-group{display:flex;flex-wrap:wrap;gap:8px}
.pill{padding:8px 16px;border-radius:999px;border:1px solid var(--border);background:var(--card-soft);color:var(--muted);cursor:pointer;transition:all .2s}
.pill:hover{border-color:var(--brand);color:var(--brand-dark)}
.pill.active{background:var(--brand);color:#fff;border-color:var(--brand);box-shadow:0 10px 24px rgba(124,58,237,.2)}
.pill:disabled{opacity:.5;cursor:not-allowed}
.legal-links{display:flex;flex-wrap:wrap;gap:12px;font-size:14px;margin-top:8px}
.legal-links a{color:var(--brand-dark);text-decoration:none}
.legal-links a:hover{text-decoration:underline}

/* ========== Wizard ========== */
.wizard-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:24px;background:rgba(47,28,77,.3);backdrop-filter:blur(8px);z-index:9999}
.wizard-panel{
  width:min(420px,100%);max-height:78vh;background:var(--card);border-radius:24px;
  padding:28px 24px 24px;box-shadow:0 24px 48px rgba(82,47,120,.24);
  display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;direction:ltr;
}
.wizard-tabs{display:flex;gap:8px;margin-bottom:12px}
.wizard-tab{flex:1;display:flex;align-items:center;gap:6px;justify-content:center;padding:8px 10px;border-radius:999px;border:1px solid var(--border);background:var(--card-soft);color:var(--muted);font-weight:700;cursor:pointer}
.wizard-tab.active{background:var(--brand);color:#fff;border-color:var(--brand)}
.wizard-tab.locked{opacity:.5;cursor:not-allowed}
.dot-index{display:inline-grid;place-items:center;width:20px;height:20px;border-radius:999px;background:currentColor;color:#fff;font-size:12px;font-weight:800}

.wizard-progress{height:4px;background:var(--border);border-radius:999px;margin-bottom:16px;overflow:hidden}
.wizard-progress>div{height:100%;background:var(--brand);transition:width .3s ease}

.wizard-track{display:flex;width:300%;transition:transform .35s ease;flex:1;min-height:0;min-width:0}
.wizard-step{flex:0 0 100%;width:100%;max-width:100%;min-width:0;min-height:0;display:flex;flex-direction:column;gap:16px;padding:0 4px;align-items:stretch}

/* 見出しの継承を完全遮断して右寄りの原因を除去 */
.wizard-step>h2{
  all:unset;display:block;width:100%;
  text-align:center;font:700 22px/1.25 system-ui,-apple-system,"Segoe UI","Hiragino Sans","Meiryo",sans-serif;
  color:var(--text);margin:0;padding:0;text-indent:0;transform:none;letter-spacing:normal;word-spacing:normal;position:static;
}
.muted{font-size:14px;text-align:center;margin:0 auto;max-width:32ch;color:var(--muted)}

.wizard-input-wrap{display:flex;flex-direction:column;gap:12px}
.wizard-input{flex:1;padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:var(--brand-soft);font-size:16px;color:var(--text);min-height:48px;min-width:0}
.wizard-input.error{border-color:#b4235d;box-shadow:0 0 0 1px #b4235d;background:#fff0f5}
.wizard-range{width:100%;accent-color:var(--brand)}
.wizard-goal-value{font-size:28px;font-weight:700;text-align:center;color:var(--brand-dark)}
.wizard-options{display:grid;gap:12px;overflow-y:auto;min-height:0;max-height:260px;padding-right:4px;min-width:0}
.wizard-option{display:flex;flex-direction:column;gap:4px;align-items:flex-start;padding:14px;border-radius:16px;border:1px solid var(--border);background:var(--brand-soft);font-size:15px;color:var(--text);cursor:pointer;transition:all .2s}
.wizard-option small{font-size:12px;color:var(--muted)}
.wizard-option.selected,.wizard-option:hover{border-color:var(--brand);background:#fff;box-shadow:0 10px 24px rgba(124,58,237,.18);transform:translateY(-1px)}

.wizard-actions{display:flex;gap:12px;margin-top:auto;justify-content:flex-end;padding-top:16px;flex-wrap:wrap}
.wizard-actions--center{justify-content:center}
.wizard-actions--start{justify-content:flex-start}
  .history-locked__error{color:#d53f8c;font-size:14px}
  .auth-shell{min-height:100vh;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:32px;align-items:center;padding:48px;background:var(--bg)}
  .auth-hero{padding:32px;background:linear-gradient(135deg,rgba(168,85,247,0.16),rgba(241,234,254,0.6));border-radius:24px;box-shadow:0 18px 36px rgba(82,47,120,0.12);display:grid;gap:16px}
  .auth-hero__title{margin:0;font-size:36px;color:var(--brand-dark)}
  .auth-hero__lead{margin:0;font-size:18px;color:var(--text)}
  .auth-hero__list{margin:0;padding-left:20px;color:var(--text);display:grid;gap:8px}
  .auth-panel{padding:32px}

/* Responsive */
@media (max-width:520px){
  .wizard-panel{width:min(92%,360px);max-height:calc(100vh - 32px);padding:24px 20px;border-radius:18px}
  .wizard-step>h2{font-size:20px}
}
/* === Onboarding フォーム用のブロック可視化 === */

/* パネル内余白と縦並びの間隔 */
.wizard-panel{ gap:16px; }

/* セクションをカード風に見せる（名前・目標・経験） */
.wizard-input-wrap{
  padding:14px 16px;
  border:1px solid var(--border);
  border-radius:16px;
  background:var(--card-soft);
  box-shadow:0 4px 14px rgba(124,58,237,.06);
}

/* ラベルを見出し化 */
.wizard-input-wrap > label,
.wizard-input-wrap > span{
  display:block;
  font-weight:700;
  color:var(--brand-dark);
  margin-bottom:8px;
}

/* 入力のフォーカスとエラーの視認性 */
.wizard-input{
  transition:border-color .15s, box-shadow .15s, background .15s;
}
.wizard-input:focus,
.wizard-range:focus{
  outline:none;
  border-color:var(--brand);
  box-shadow:0 0 0 3px rgba(124,58,237,.15);
  background:#fff;
}
.wizard-input.error{
  border-color:#b4235d;
  box-shadow:0 0 0 3px rgba(180,35,93,.15);
  background:#fff0f5;
}

/* 目標セクションの数値を強調 */
.wizard-goal-value{
  margin-top:4px;
  margin-bottom:8px;
}

/* 経験のカード群を見やすく */
.wizard-options{
  grid-template-columns:1fr;
  max-height:240px; /* 既存のoverflowを活かす */
}
.wizard-option{
  background:#fff;
}
.wizard-option.selected{
  border-color:var(--brand);
  box-shadow:0 6px 18px rgba(124,58,237,.18);
}

/* フッター操作を常に見えるように */
.wizard-actions{
  position:sticky;
  bottom:0;
  background:linear-gradient(180deg, rgba(255,255,255,0) 0%, var(--card) 35%);
  padding-top:12px;
  margin-top:auto;
  border-top:1px solid var(--border);
}

/* モバイル微調整 */
@media (max-width:520px){
  .wizard-input-wrap{ padding:12px 14px; border-radius:14px; }
  .wizard-option{ padding:12px; border-radius:14px; }
}

    .chat-widget{position:fixed;bottom:24px;right:24px;z-index:60;display:flex;flex-direction:column;align-items:flex-end;gap:12px}
  .chat-widget__toggle{min-width:180px}
  .chat-widget__panel{width:320px;max-width:calc(100vw - 32px);background:var(--card);border:1px solid var(--border);border-radius:18px;box-shadow:0 18px 36px rgba(82,47,120,0.24);padding:16px;display:flex;flex-direction:column;gap:12px}
  .chat-widget__messages{max-height:360px;overflow-y:auto;display:flex;flex-direction:column;gap:8px;padding-right:4px}
  .chat-widget__bubble{padding:10px 14px;border-radius:16px;font-size:14px;line-height:1.5;max-width:100%}
  .chat-widget__bubble--assistant{background:var(--card-soft);color:var(--text);align-self:flex-start}
  .chat-widget__bubble--user{background:var(--brand);color:#fff;align-self:flex-end}
  .chat-widget__input{display:flex;gap:8px}
  .chat-widget__input input{flex:1;padding:10px;border:1px solid var(--border);border-radius:12px}
  .chat-widget__paywall{display:grid;gap:12px;text-align:center}
  .chat-widget__actions{display:flex;gap:8px;justify-content:center}
  .chat-widget__error{color:#d53f8c;font-size:13px}
</style>
  <script type="module" src="/src/main.tsx"></script>
</head>
<body>
  <div id="root"></div>
</body>
</html>




